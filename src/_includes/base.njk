<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% if title %}{{ title }} · {% endif %}Legibility.site</title>
    <meta name="description" content="Essays on how things become readable — and what changes when they do." />
    <style>
      :root { color-scheme: light; }
      body {
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
        line-height: 1.6;
      }
      header, main, footer {
        max-width: 720px;
        margin: 0 auto;
        padding: 24px 18px;
      }
      @media (min-width: 900px) {
        main p {
          text-align: justify;
        }
      }
      header {
        padding-bottom: 10px;
      }
      .site-title {
        font-size: 1.35rem;
        font-weight: 650;
        margin: 0;
      }
      .subtitle {
        margin: 6px 0 0 0;
        font-size: 0.98rem;
        color: #222;
        font-style: italic;
      }
      nav {
        margin-top: 14px;
        display: flex;
        gap: 14px;
        font-size: 0.98rem;
      }
      nav a {
        color: inherit;
        text-decoration: underline;
        text-underline-offset: 4px;
        text-decoration-thickness: 1px;
        padding: 6px 0;
        opacity: 0.7;
      }
      nav a:hover {
        opacity: 1;
      }
      nav a.active {
        font-weight: 650;
        text-decoration-thickness: 2px;
        opacity: 1;
      }

      h1 { font-size: 1.8rem; line-height: 1.25; margin: 0 0 10px 0; }
      h2 { font-size: 1.15rem; margin: 28px 0 10px; }
      p { margin: 12px 0; }
      ul { margin: 10px 0 14px 20px; }
      li { margin: 6px 0; }

      .meta {
        margin-top: 8px;
        font-size: 0.95rem;
        color: #555;
        font-style: italic;
      }
      .essay-list { list-style: none; padding: 0; margin: 0; }
      .essay-item { margin: 18px 0; }
      .essay-title { display: inline-block; font-size: 1.05rem; text-decoration: none; }
      .essay-title:visited {
        color: inherit;
      }
      .essay-title:hover { text-decoration: underline; }
      .year { display: block; margin-top: 4px; color: #555; font-size: 0.95rem; }

      footer { padding-top: 10px; color: #666; font-size: 0.92rem; }
      footer a,
      footer a:visited {
        color: inherit;
        text-decoration: underline;
        text-underline-offset: 3px;
      }
      hr { border: none; border-top: 1px solid #e6e6e6; margin: 22px 0; }

      @media print {
        /* Remove site chrome */
        header, nav, footer { display: none !important; }

        /* Make the essay read like a document */
        body { margin: 0; }
        main {
          max-width: none;
          padding: 0;
        }

        .meta {
          font-size: 10pt;
          font-style: italic;
          color: #000;
          margin-bottom: 18pt;
        }
        /* Comfortable print typography */
        h1 { font-size: 18pt; margin: 0 0 6pt 0; }
        h2 { font-size: 12pt; margin: 18pt 0 6pt; }
        p, li { font-size: 11pt; line-height: 1.45; }

        /* Avoid ugly page breaks */
        h1, h2 { break-after: avoid-page; page-break-after: avoid; }
        p, li { break-inside: avoid; page-break-inside: avoid; }

        /* Ensure links print legibly */
        a, a:visited { color: #000; text-decoration: underline; }

        /* Optional: show URLs after links in print (comment out if you dislike it) */
        a[href^="http"]:after,
        a[href^="https"]:after {
          content: " (" attr(href) ")";
          font-size: 9pt;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <p class="site-title"><a href="/" style="color:inherit; text-decoration:none;">Legibility.site</a></p>
      <p class="subtitle">Essays on how things become readable — and what changes when they do.</p>
      <nav>
        <a href="/essays/" class="{% if page.url and page.url.startsWith('/essays') %}active{% endif %}">Essays</a>
        <a href="/about/" class="{% if page.url == '/about/' %}active{% endif %}">About</a>
      </nav>
    </header>

    <main>
      {% if title and title != "Home" %}
        <h1>{{ title }}</h1>
      {% endif %}
      {{ content | safe }}
    </main>

    <footer>
      <hr />
      <div>
        © Legibility.site · If something here raises a question you can’t quite place, you can reach me at
        <a href="mailto:hello@legibility.site">hello@legibility.site</a>.
      </div>
    </footer>
  </body>
</html>
